<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Lucas Cherobim -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookie Example</title>
</head>
<body>
    <script>
        function setCookie(name,value,days) {
            var expires = "";
            if (days) {
                expires = "; expires=" + days.toUTCString();
            }
            document.cookie = name + "=" + (value || "")  + expires + "; path=/";
        }

        function getCookie(cname) {
            var name = cname + "=";
            var decodedCookie = decodeURIComponent(document.cookie);
            var ca = decodedCookie.split(';');
            for(var i = 0; i <ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                     c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
         return "";
        }

        function checkCookie(name) {
            var user = getCookie(name);
            if (user === d) {
               return true;
            } else {
                // user = prompt("Please enter your name:","");
                // if (user != "" && user != null) {
                // setCookie("username", user, 30);
                // }
                return false;
            }
        }

        var data = new Date();
        var dia = data.getDate();
        var mes = data.getMonth()+1;
        var ano = data.getFullYear();
        var hora = data.getHours();
        var aux = 23 - hora;
        var h = hora + aux;
        // console.log(h);
        var minuto = data.getMinutes();
        var aux = 60 - minuto;
        var m = minuto + aux;
        var d = new Date(ano,mes-1,dia,h,m);

        // function deleteCookie(name) {   
        //     document.cookie = name +'=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';
        // }
       
        var a = getCookie("teste");

        // setTimeout(()=>{
        //     deleteCookie("teste");
        // },3000)

        // console.log(d);
        console.log(a);

        if (a.length != 0){ //se o cookie for != 0, eu seto o valor do cookie como a hora de acesso
            a = new Date(d)
            console.log("cookie != 0 " + a); 
        }else{ //se o cookie for == 0 (então não existe cookie, ou expirou), então eu seto o valor e expires do cookie com a hora final do contador
            a = new Date()
            console.log("cookie === 0 " + a); 
            var b = setCookie("teste", d, d);
        }
        
    </script>
    <script id="gdpop" 
    data-public-auth="" 
    data-form-title="teste cherobim" 
    data-button-text="cadastre-se"  
    data-form-id="35744" 
    data-scroll="on" 
    data-leave="on" 
    data-click="off" 
    src="https://gdigital.gpages.com.br/FormPopUp/index.js"></script>
</body>
</html>